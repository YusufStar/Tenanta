# Database Application Environment Variables
# Copy this file to .env and update the values

# Database Configuration
DATABASE_URL=postgresql://tenanta_user:tenanta_password@localhost:5432/tenanta
DATABASE_POOL_SIZE=5
DATABASE_POOL_MIN=1
DATABASE_POOL_MAX=10

# Redis Configuration (Database app uses Database 3 for schema metadata)
REDIS_URL=redis://:tenanta_redis_password@localhost:6379
REDIS_DB=3
REDIS_PREFIX=tenanta:database:
REDIS_USER=database
REDIS_PASSWORD=tenanta_redis_password

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE=logs/database.log

# Schema Management Configuration
SCHEMA_VALIDATION_ENABLED=true
SCHEMA_VERSIONING_ENABLED=true
MAX_SCHEMAS_PER_TENANT=50
MAX_TABLES_PER_SCHEMA=100
MAX_COLUMNS_PER_TABLE=100

# Migration Configuration
MIGRATION_DIR=src/migrations
SEED_DIR=src/seeds
SCHEMA_DIR=src/schemas

# Database Security
ALLOW_DANGEROUS_OPERATIONS=false
MAX_CONCURRENT_MIGRATIONS=1
MIGRATION_TIMEOUT=30000

# Schema Naming Rules
SCHEMA_NAME_PATTERN=^[a-z][a-z0-9_]*$
TABLE_NAME_PATTERN=^[a-z][a-z0-9_]*$
COLUMN_NAME_PATTERN=^[a-z][a-z0-9_]*$

# Performance Configuration
QUERY_TIMEOUT=30000
CONNECTION_TIMEOUT=10000
IDLE_TIMEOUT=30000 