{"code":"ECONNREFUSED","level":"error","message":"‚ùå Failed to connect to database:","service":"database-api","stack":"AggregateError [ECONNREFUSED]: \n    at C:\\Users\\yyili\\Desktop\\Tenanta\\database-api\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async setupDatabase (C:\\Users\\yyili\\Desktop\\Tenanta\\database-api\\src\\config\\database.ts:23:20)\n    at async createApiServer (C:\\Users\\yyili\\Desktop\\Tenanta\\database-api\\src\\server.ts:24:3)\n    at async startServers (C:\\Users\\yyili\\Desktop\\Tenanta\\database-api\\src\\index.ts:15:23)","timestamp":"2025-08-08T18:24:39.250Z"}
{"level":"info","message":"‚úÖ Database connection established successfully","service":"database-api","timestamp":"2025-08-08T18:26:04.905Z"}
{"level":"info","message":"‚úÖ Redis connection established successfully","service":"database-api","timestamp":"2025-08-08T18:26:04.910Z"}
{"level":"info","message":"‚úÖ Redis ready on database 0","service":"database-api","timestamp":"2025-08-08T18:26:04.912Z"}
{"level":"info","message":"‚úÖ Redis connected successfully to database 0","service":"database-api","timestamp":"2025-08-08T18:26:04.913Z"}
{"level":"info","message":"‚úÖ DatabaseService initialized successfully","service":"database-api","timestamp":"2025-08-08T18:26:04.913Z"}
{"level":"info","message":"‚úÖ DatabaseService initialized successfully","service":"database-api","timestamp":"2025-08-08T18:26:04.914Z"}
{"level":"info","message":"WebSocket server setup on path: /ws","service":"database-api","timestamp":"2025-08-08T18:26:04.920Z"}
{"level":"info","message":"üöÄ Database API server running on port 3001","service":"database-api","timestamp":"2025-08-08T18:26:04.921Z"}
{"level":"info","message":"üìä Environment: development","service":"database-api","timestamp":"2025-08-08T18:26:04.922Z"}
{"level":"info","message":"üîó API Base URL: http://localhost:3001/api/v1","service":"database-api","timestamp":"2025-08-08T18:26:04.922Z"}
{"level":"info","message":"üîå WebSocket server running on port 3002","service":"database-api","timestamp":"2025-08-08T18:26:04.923Z"}
{"level":"info","message":"üîó WebSocket URL: ws://localhost:3002/ws","service":"database-api","timestamp":"2025-08-08T18:26:04.923Z"}
{"count":5,"level":"info","message":"System logs retrieved","service":"database-api","timestamp":"2025-08-08T18:26:49.509Z"}
{"level":"info","message":"::1 - - [08/Aug/2025:18:26:49 +0000] \"GET /api/v1/logs/system?limit=100&offset=0 HTTP/1.1\" 200 - \"http://localhost:3000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36\"","service":"database-api","timestamp":"2025-08-08T18:26:49.514Z"}
{"duration":"21ms","ip":"::1","level":"info","message":"Request completed:","method":"GET","service":"database-api","status":200,"timestamp":"2025-08-08T18:26:49.515Z","url":"/system?limit=100&offset=0","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"count":5,"level":"info","message":"System logs retrieved","service":"database-api","timestamp":"2025-08-08T18:26:59.635Z"}
{"level":"info","message":"::1 - - [08/Aug/2025:18:26:59 +0000] \"GET /api/v1/logs/system?limit=100&offset=0 HTTP/1.1\" 200 - \"http://localhost:3000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36\"","service":"database-api","timestamp":"2025-08-08T18:26:59.637Z"}
{"duration":"3ms","ip":"::1","level":"info","message":"Request completed:","method":"GET","service":"database-api","status":200,"timestamp":"2025-08-08T18:26:59.637Z","url":"/system?limit=100&offset=0","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"count":5,"level":"info","message":"System logs retrieved","service":"database-api","timestamp":"2025-08-08T18:27:04.097Z"}
{"level":"info","message":"::1 - - [08/Aug/2025:18:27:04 +0000] \"GET /api/v1/logs/system?limit=100&offset=0 HTTP/1.1\" 200 - \"http://localhost:3000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36\"","service":"database-api","timestamp":"2025-08-08T18:27:04.099Z"}
{"duration":"3ms","ip":"::1","level":"info","message":"Request completed:","method":"GET","service":"database-api","status":200,"timestamp":"2025-08-08T18:27:04.099Z","url":"/system?limit=100&offset=0","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"level":"info","limit":"50","message":"Getting all tenants","page":"1","service":"database-api","timestamp":"2025-08-08T18:27:08.205Z"}
{"level":"info","message":"::1 - - [08/Aug/2025:18:27:08 +0000] \"GET /api/v1/tenants?page=1&limit=50 HTTP/1.1\" 200 402 \"http://localhost:3000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36\"","service":"database-api","timestamp":"2025-08-08T18:27:08.216Z"}
{"duration":"11ms","ip":"::1","level":"info","message":"Request completed:","method":"GET","service":"database-api","status":200,"timestamp":"2025-08-08T18:27:08.216Z","url":"/?page=1&limit=50","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"level":"info","message":"Getting schema overview","service":"database-api","tenantId":"ce6c6677-19cb-4633-911b-428d11d6b7d2","timestamp":"2025-08-08T18:27:19.072Z"}
{"level":"info","message":"Schema overview retrieved successfully","relationshipsCount":1,"service":"database-api","tenantId":"ce6c6677-19cb-4633-911b-428d11d6b7d2","timestamp":"2025-08-08T18:27:19.155Z","totalRows":0,"totalTables":2}
{"level":"info","message":"::1 - - [08/Aug/2025:18:27:19 +0000] \"GET /api/v1/schemas/ce6c6677-19cb-4633-911b-428d11d6b7d2/overview HTTP/1.1\" 200 - \"http://localhost:3000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36\"","service":"database-api","timestamp":"2025-08-08T18:27:19.156Z"}
{"duration":"86ms","ip":"::1","level":"info","message":"Request completed:","method":"GET","service":"database-api","status":200,"timestamp":"2025-08-08T18:27:19.157Z","url":"/ce6c6677-19cb-4633-911b-428d11d6b7d2/overview","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"level":"info","limit":"50","message":"Getting all tenants","page":"1","service":"database-api","timestamp":"2025-08-08T18:27:48.337Z"}
{"level":"info","message":"::1 - - [08/Aug/2025:18:27:48 +0000] \"GET /api/v1/tenants?page=1&limit=50 HTTP/1.1\" 200 402 \"http://localhost:3000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36\"","service":"database-api","timestamp":"2025-08-08T18:27:48.341Z"}
{"duration":"5ms","ip":"::1","level":"info","message":"Request completed:","method":"GET","service":"database-api","status":200,"timestamp":"2025-08-08T18:27:48.342Z","url":"/?page=1&limit=50","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"count":5,"level":"info","message":"System logs retrieved","service":"database-api","timestamp":"2025-08-08T18:27:49.976Z"}
{"level":"info","message":"::1 - - [08/Aug/2025:18:27:49 +0000] \"GET /api/v1/logs/system?limit=100&offset=0 HTTP/1.1\" 200 - \"http://localhost:3000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36\"","service":"database-api","timestamp":"2025-08-08T18:27:49.978Z"}
{"duration":"6ms","ip":"::1","level":"info","message":"Request completed:","method":"GET","service":"database-api","status":200,"timestamp":"2025-08-08T18:27:49.978Z","url":"/system?limit=100&offset=0","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
